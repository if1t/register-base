<ng-container [ngTemplateOutlet]="readmode ? readTemplate : editTemplate">
  <ng-template #readTemplate>
    <div class="container container--read" [attr.sma-param-style]="paramStyle">
      @if (label) {
        @switch (paramStyle) {
          @case ('filter') {
            <div class="label-wrapper">
              <span class="label">{{ label }}</span>
              <div class="dashed-row"></div>
            </div>
          }
          @default {
            <span class="label">{{ label }}</span>
            <div class="dashed-row"></div>
          }
        }
      }
      <div class="value">
        <span [tuiHint]="value && showedValue !== '-' ? showedValue : undefined">{{
          showedValue
        }}</span>
      </div>
    </div>
  </ng-template>
  <ng-template #editTemplate>
    <div class="container container--edit" [attr.sma-param-style]="paramStyle">
      @if (label) {
        <div class="label-wrapper">
          <span class="label">{{ label }}</span>
          @if (required) {
            <span class="required">*</span>
          }
        </div>
      }
      <tui-textfield
        tuiAppearance="sma-input-appearance"
        tuiTextfieldSize="m"
        [tuiTextfieldLabelOutside]="true"
        [tuiTextfieldCleaner]="forceClear"
        [tuiHint]="value && showedValue !== '-' ? hintContent : undefined"
        (focusin)="isFocused = true"
        (focusout)="isFocused = false"
        (mouseenter)="isHovered = true"
        (mouseleave)="isHovered = false"
      >
        <textarea
          tuiTextarea
          tuiTextfieldSize="m"
          [formControl]="control"
          [max]="max()"
          [min]="min()"
          [placeholder]="placeholder()"
        ></textarea>
        <div class="textfield-icons-container">
          @if (isInvalidAndNotPristine) {
            <sma-param-invalid-icon></sma-param-invalid-icon>
          }
        </div>
      </tui-textfield>

      <ng-template #hintContent> {{ showedValue }} </ng-template>
    </div>
  </ng-template>
</ng-container>
